var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,i=(t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,o=(e,o)=>{for(var r in o||(o={}))t.call(o,r)&&i(e,r,o[r]);if(s)for(var r of s(o))n.call(o,r)&&i(e,r,o[r]);return e};import{r,L as a,M as l,S as c,_ as d,a as h,k as u,E as m,b as p,h as f,u as g,c as w,d as k,i as v,m as b,I as y,t as x,w as M,e as E,s as _,f as A,l as L,D as C,g as O,j as S,P as $,n as T,T as I,N as R,o as P,p as N,R as D,q as W,v as j,x as B,y as z,z as H,A as F,B as V,C as q,F as G,G as Y,H as U,J as K,K as Q,O as X,Q as J,U as Z,V as ee,W as te,X as se,Y as ne,Z as ie,$ as oe,a0 as re,a1 as ae,a2 as le,a3 as ce,a4 as de,a5 as he,a6 as ue,a7 as me,a8 as pe,a9 as fe,aa as ge}from"./vendor.2e4cd660.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const n=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,o)=>{const r=new URL(e,n);if(self[t].moduleMap[r])return s(self[t].moduleMap[r]);const a=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){o(new Error(`Failed to import: ${e}`)),i(l)},onload(){s(self[t].moduleMap[r]),i(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/milkdown/assets/");var we="_body_og6dx_1",ke="_main_og6dx_10",ve="_title_og6dx_14",be="_desc_og6dx_23",ye="_logo_og6dx_31",xe="_buttons_og6dx_38";const Me=()=>r.createElement("section",{className:we},r.createElement("section",{className:ke},r.createElement("section",{className:ye},r.createElement("img",{src:"/milkdown/milkdown.svg"})),r.createElement("h1",{className:ve},"Milkdown"),r.createElement("p",{className:be},"Plugin Based WYSIWYG Markdown Editor"),r.createElement("section",{className:xe},r.createElement(a,{to:"/get-started"},"Get Started"),r.createElement(a,{to:"/online-demo"},"Online Demo"))));var Ee,_e,Ae,Le,Ce,Oe,Se,$e,Te;(_e=Ee||(Ee={}))[_e.Internal=0]="Internal",_e[_e.ProsemirrorSpec=1]="ProsemirrorSpec",_e[_e.ProsemirrorPlugin=2]="ProsemirrorPlugin",_e[_e.MarkdownItOption=3]="MarkdownItOption",_e[_e.MarkdownItPlugin=4]="MarkdownItPlugin",_e[_e.Theme=5]="Theme",_e[_e.Listener=6]="Listener",(Le=Ae||(Ae={}))[Le.Idle=0]="Idle",Le[Le.LoadSchema=1]="LoadSchema",Le[Le.SchemaReady=2]="SchemaReady",Le[Le.PluginReady=3]="PluginReady",Le[Le.Complete=4]="Complete";class Ie{constructor(e={}){this.options=e}injectContext(e,t){this.context=e,this.updateContext=t}}class Re extends Ie{constructor(){super(...arguments),this.loadAfter=Ae.Idle,this.type=Ee.ProsemirrorSpec}main(){this.updateContext({marks:this.context.marks.concat(this)})}}class Pe extends Ie{constructor(){super(...arguments),this.loadAfter=Ae.Idle,this.type=Ee.ProsemirrorSpec}main(){this.updateContext({nodes:this.context.nodes.concat(this)})}}function Ne(e,t,s={}){return e.reduce(((e,s)=>{const[n,i]=t(s);return Object.assign(Object.assign({},e),{[n]:i})}),s)}function De(e){return e.isText}class We extends Ie{constructor(){super(...arguments),this.id="schemaLoader",this.type=Ee.Internal,this.loadAfter=Ae.LoadSchema}main(){const e=Ne(this.context.nodes,(e=>[e.id,e.schema])),t=Ne(this.context.marks,(e=>[e.id,e.schema])),s=new c({nodes:Object.assign(Object.assign({doc:{content:"block+"}},e),{text:{group:"inline"}}),marks:t});this.updateContext({schema:s})}}class je{constructor(e,t,s){this.stack=e,this.schema=t,this.tokenHandlers=s}parseTokens(e){e.forEach(((t,s)=>{const n=this.tokenHandlers[t.type];if(!n)throw new Error("Token type `"+t.type+"` not supported by Markdown parser");n(this,t,e,s)}))}addText(e){e&&this.stack.addText((t=>this.schema.text(e,t)))}transformTokensToDoc(e){this.parseTokens(e);let t=null;do{t=this.stack.closeNode()}while(this.stack.length);return t}}class Be{constructor(e){this.els=[{type:e,content:[]}],this.marks=l.none}top(){const{els:e}=this;return e[e.length-1]}pushInTopEl(e){var t;null===(t=this.top())||void 0===t||t.content.push(e)}get length(){return this.els.length}openMark(e){this.marks=e.addToSet(this.marks)}closeMark(e){this.marks=e.removeFromSet(this.marks)}addText(e){const t=this.top();if(!t)throw new Error;const s=t.content,n=s[s.length-1],i=e(this.marks),o=n&&function(e,t){if(De(e)&&De(t)&&l.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(n,i);o?s[s.length-1]=o:s.push(i)}openNode(e,t){this.els.push({type:e,attrs:t,content:[]})}addNode(e,t,s){const n=e.createAndFill(t,s,this.marks);return n?(this.pushInTopEl(n),n):null}closeNode(){this.marks.length&&(this.marks=l.none);const e=this.els.pop();if(!e)throw new Error;return this.addNode(e.type,e.attrs,e.content)}}function ze(e,t,s,n){return e.getAttrs?e.getAttrs(t,s,n):e.attrs}function He(){}function Fe(e,t){const s={softbreak:e=>e.addText("\n")};return Object.entries(t).forEach((([t,n])=>{if(function(e){return Reflect.has(e,"block")}(n)){const i=e.nodes[n.block]||e.nodes[t];if(!i)throw new Error;return n.isAtom?void(s[n.block]=(e,t,s,o)=>{e.stack.openNode(i,ze(n,t,s,o)),e.addText(t.content),e.stack.closeNode()}):(s[n.block+"_open"]=(e,t,s,o)=>e.stack.openNode(i,ze(n,t,s,o)),void(s[n.block+"_close"]=e=>e.stack.closeNode()))}if(!function(e){return Reflect.has(e,"node")}(n)){if(function(e){return Reflect.has(e,"mark")}(n)){const i=e.marks[n.mark]||e.marks[t];if(!i)throw new Error;return n.isAtom?void(s[n.mark]=(e,t,s,o)=>{e.stack.openMark(i.create(ze(n,t,s,o))),e.addText(t.content),e.stack.closeMark(i)}):(s[n.mark+"_open"]=(e,t,s,o)=>e.stack.openMark(i.create(ze(n,t,s,o))),void(s[n.mark+"_close"]=e=>e.stack.closeMark(i)))}if(function(e){return Reflect.has(e,"ignore")}(n))return s[n.ignore+"_open"]=He,void(s[n.ignore+"_close"]=He);throw new RangeError("Unrecognized parsing spec "+JSON.stringify(n))}{const i=e.nodes[n.node]||e.nodes[t];if(!i)throw new Error;s[n.node]=(e,t,s,o)=>e.stack.addNode(i,ze(n,t,s,o))}})),s.inline=(e,t)=>{var s;return e.parseTokens(null!==(s=t.children)&&void 0!==s?s:[])},s.text=(e,t)=>e.addText(t.content),s}class Ve extends Ie{constructor(){super(...arguments),this.id="parserLoader",this.type=Ee.Internal,this.loadAfter=Ae.SchemaReady}main(){const e=Ne([...this.context.nodes,...this.context.marks],(e=>[e.id,e.parser])),t=(s=this.context.schema,n=this.context.markdownIt,i=e,e=>new je(new Be(s.topNodeType),s,Fe(s,i)).transformTokensToDoc(n.parse(e,{})));var s,n,i;this.updateContext({parser:t})}}class qe{static escape(e,t){let s=e.replace(/[`*\\~[\]]/g,"\\$&");return t&&(s=s.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),s}static quote(e){const t=-1===e.indexOf('"')?'""':-1===e.indexOf("'")?"''":"()";return t[0]+e+t[1]}static repeat(e,t){return Array(t).fill(e).reduce(((e,t)=>e+t),"")}static getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}}static removeWhiteSpaceAfter(e){const t=/\s+$/.exec(e);return t?e.slice(0,t.index):e}}class Ge{constructor(e,t){Ce.set(this,""),Oe.set(this,""),Se.set(this,!1),$e.set(this,void 0),Te.set(this,void 0),this.utils=qe,d(this,$e,e),d(this,Te,t)}get output(){return h(this,Ce)}exec(e){return this.renderContent(e)}renderContent(e){return e.forEach(((t,s,n)=>this.render(t,e,n))),this}ensureNewLine(){return this.atBlank||d(this,Ce,h(this,Ce)+"\n"),this}closeBlock(e){return d(this,Se,e),this}write(e){return this.flushClose(),e?(h(this,Oe)&&this.atBlank&&d(this,Ce,h(this,Ce)+h(this,Oe)),d(this,Ce,h(this,Ce)+e),this):this}text(e,t=!1){const s=e.split("\n");return s.forEach(((e,n)=>{const i=t?this.utils.escape(e,Boolean(this.atBlank||h(this,Se))):e;this.write(i);n===s.length-1||d(this,Ce,h(this,Ce)+"\n")})),this}wrapBlock(e,t,s,n=e){this.write(n);const i=h(this,Oe);return d(this,Oe,h(this,Oe)+e),s(),d(this,Oe,i),this.closeBlock(t),this}renderInline(e){let t=[];return e.forEach(((s,n,i)=>{if(!De(s))return void this.render(s,e,i);const o=s.marks||[],r=t.filter((e=>!o.includes(e))).sort(this.compareMarkPriority()),a=o.filter((e=>!t.includes(e))).sort(this.compareMarkPriority(!0));a.forEach((e=>t.push(e))),t=t.filter((e=>!r.includes(e))).sort(this.compareMarkPriority());const l=this.serializeMarks(a,e,i,!0),c=this.serializeMarks(r,e,i+1);this.write(c+l+s.text)})),(()=>{const s=this.serializeMarks(t,e,e.childCount+1);this.write(s)})(),this}renderList(e,t,s){h(this,Se)&&h(this,Se).type===e.type&&this.flushClose(2),e.forEach(((n,i,o)=>{this.wrapBlock(t,e,(()=>this.render(n,e,o)),s(o))}))}get atBlank(){return/(^|\n)$/.test(h(this,Ce))}serializeMarks(e,t,s,n=!1){return e.map((e=>this.markString(e,t,s,n))).join("")}flushClose(e=1){if(!h(this,Se))return this;this.atBlank||d(this,Ce,h(this,Ce)+"\n");const t=this.utils.removeWhiteSpaceAfter(h(this,Oe));return d(this,Ce,h(this,Ce)+this.utils.repeat(t+"\n",e)),d(this,Se,!1),this}markString(e,t,s,n=!1){const i=this.getMark(e),o=n?i.open:i.close;return"string"==typeof o?o:o(this,e,t,s)}render(e,t,s){this.getNode(e)(this,e,t,s)}compareMarkPriority(e=!1){return(t,s)=>{var n,i,o,r;const a=null!==(i=null===(n=this.getMark(t))||void 0===n?void 0:n.priority)&&void 0!==i?i:0,l=null!==(r=null===(o=this.getMark(s))||void 0===o?void 0:o.priority)&&void 0!==r?r:0;return e?a-l:l-a}}getMark(e){const t=h(this,Te)[e.type.name];if(!t)throw new Error(`Fail to get mark ${e.type.name} from mark map.`);return t}getNode(e){const t=h(this,$e)[e.type.name];if(!t)throw new Error(`Fail to get node ${e.type.name} from node map.`);return t}}Ce=new WeakMap,Oe=new WeakMap,Se=new WeakMap,$e=new WeakMap,Te=new WeakMap;class Ye extends Ie{constructor(){super(...arguments),this.id="serializerLoader",this.type=Ee.Internal,this.loadAfter=Ae.SchemaReady}main(){const e=function(e,t){return s=>{const n=new Ge(e,t);return n.exec(s),n.output}}(Ne(this.context.nodes,(e=>[e.id,e.serializer]),{text(e,t){const{text:s}=t;s&&e.text(s)}}),Ne(this.context.marks,(e=>[e.id,e.serializer])));this.updateContext({serializer:e})}}class Ue extends Ie{constructor(){super(...arguments),this.id="inputRulesLoader",this.type=Ee.Internal,this.loadAfter=Ae.SchemaReady}main(){const{nodes:e,marks:t,schema:s}=this.context,n=[...e.filter((e=>Boolean(e.inputRules))).reduce(((e,t)=>{const n=s.nodes[t.id];return n?[...e,...t.inputRules(n,s)]:e}),[]),...t.filter((e=>Boolean(e.inputRules))).reduce(((e,t)=>{const n=s.marks[t.id];return n?[...e,...t.inputRules(n,s)]:e}),[])];this.updateContext({inputRules:n})}}class Ke extends Ie{constructor(){super(...arguments),this.id="keymapLoader",this.type=Ee.Internal,this.loadAfter=Ae.SchemaReady}main(){const{nodes:e,marks:t,schema:s}=this.context,n=[...e.filter((e=>Boolean(e.keymap))).map((e=>{const t=s.nodes[e.id];if(!t)throw new Error;return e.keymap(t)})),...t.filter((e=>Boolean(e.keymap))).map((e=>{const t=s.marks[e.id];if(!t)throw new Error;return e.keymap(t)}))].map((e=>u(e)));this.updateContext({keymap:n})}}class Qe extends Ie{constructor(){super(...arguments),this.id="nodeViewsLoader",this.type=Ee.Internal,this.loadAfter=Ae.SchemaReady}main(){const{nodes:e,marks:t,schema:s,editor:n}=this.context,i=e.filter((e=>Boolean(e.view))).reduce(((e,t)=>{const i=s.nodes[t.id];if(!i)throw new Error;return Object.assign(Object.assign({},e),{[t.id]:(...e)=>t.view(n,i,...e)})}),{}),o=t.filter((e=>Boolean(e.view))).reduce(((e,t)=>{const i=s.marks[t.id];if(!i)throw new Error;return Object.assign(Object.assign({},e),{[t.id]:(...e)=>t.view(n,i,...e)})}),{}),r=Object.assign(Object.assign({},i),o);this.updateContext({nodeViews:r})}}class Xe extends Ie{constructor(){super(...arguments),this.id="viewLoader",this.type=Ee.Internal,this.loadAfter=Ae.PluginReady}main(){const{nodeViews:e,serializer:t}=this.context,{listener:s,editable:n}=this.options,i=this.createState(),o=this.createViewContainer(),r=new m(o,{state:i,nodeViews:e,editable:n,dispatchTransaction:e=>{var n,i;const o=r.state.apply(e);r.updateState(o),null===(n=s.markdown)||void 0===n||n.forEach((e=>{e((()=>t(r.state.doc)))})),null===(i=s.doc)||void 0===i||i.forEach((e=>{e(r.state.doc)}))}});this.prepareViewDom(r.dom),this.updateContext({editorView:r})}createState(){const{parser:e,schema:t,inputRules:s,keymap:n,prosemirrorPlugins:i}=this.context,{defaultValue:o}=this.options,r=e(o);return p.create({schema:t,doc:r,plugins:[f(),u({"Mod-z":g,"Shift-Mod-z":w}),...n,...i,u(k),v({rules:s})]})}createViewContainer(){const{root:e}=this.options,t=document.createElement("div");return t.className="milkdown",e.appendChild(t),t}prepareViewDom(e){e.classList.add("editor"),e.setAttribute("role","textbox")}}const Je=e=>class extends Ie{constructor(){super(...arguments),this.id=e,this.type=Ee.ProsemirrorPlugin,this.loadAfter=Ae.SchemaReady}main(){this.updateContext({prosemirrorPlugins:this.context.prosemirrorPlugins.concat(...this.options.plugins(this.context))})}},Ze=(e,t)=>new(Je(e))({plugins:t}),et=e=>class extends Ie{constructor(){super(...arguments),this.id=e,this.type=Ee.ProsemirrorPlugin,this.loadAfter=Ae.SchemaReady}main(){const e=this.options.plugins(this.context).reduce(((e,t)=>Array.isArray(t)?e.use(...t):e.use(t)),this.context.markdownIt);this.updateContext({markdownIt:e})}},tt=(e,t)=>new(et(e))({plugins:t}),st=e=>class extends Ie{constructor(){super(...arguments),this.id=e,this.type=Ee.ProsemirrorPlugin,this.loadAfter=Ae.SchemaReady}main(){const e=this.options.rules(this.context),t=this.context.markdownIt.enable(e);this.updateContext({markdownIt:t})}};class nt{constructor(e){this.atoms=[],this.ctx={loadState:Ae.Idle,markdownIt:new b("commonmark"),nodes:[],marks:[],editor:this,prosemirrorPlugins:[]},this.updateCtx=e=>{Object.assign(this.ctx,e)};const t=Object.assign({root:document.body,defaultValue:"",listener:{}},e);this.use([new We,new Ve,new Ye,new Ke,new Ue,new Qe,new Xe(t)])}injectCtx(){this.atoms.forEach((e=>e.injectContext(this.ctx,this.updateCtx)))}runAtomByLoadState(e){this.atoms.filter((t=>t.loadAfter===e)).forEach((e=>{e.main()}))}addAtom(e){const t=this.atoms.findIndex((t=>t.id===e.id));t>=0&&(console.warn(`Atom: ${e.id} is conflicted with previous atom, the previous one will be override.`),this.atoms.splice(t,1)),this.atoms.push(e)}use(e){return Array.isArray(e)?(e.forEach((e=>{this.addAtom(e)})),this):(this.addAtom(e),this)}create(){this.injectCtx(),[Ae.Idle,Ae.LoadSchema,Ae.SchemaReady,Ae.PluginReady,Ae.Complete].forEach((e=>{this.ctx.loadState=e,this.runAtomByLoadState(e)}))}}function it(e,t){return new y(e,((e,s,n,i)=>{const{tr:o}=e,r=s.length;let a=n,l=i;if(s[r-1]){const c=s[0],d=s[r-1],h=s[r-2],u=n+c.indexOf(h),m=u+h.length-1,p=u+h.lastIndexOf(d),f=p+d.length;if(function(e,t,s){let n=[];return s.doc.nodesBetween(e,t,((e,t)=>{n=[...n,...e.marks.map((s=>({start:t,end:t+e.nodeSize,mark:s})))]})),n}(n,i,e).filter((e=>e.mark.type.excludes(t))).filter((e=>e.end>u)).length)return null;f<m&&o.delete(f,m),p>u&&o.delete(u,p),a=u,l=a+d.length}return o.addMark(a,l,t.create()),o.removeStoredMark(t),o}))}const ot=[new class extends Re{constructor(){super(...arguments),this.id="link",this.schema={attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",Object.assign(Object.assign({},e.attrs),{class:"link"})]},this.parser={mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},this.serializer={open:()=>"[",close:(e,t)=>`](${e.utils.escape(t.attrs.href)}${t.attrs.title?` ${e.utils.quote(t.attrs.title)}`:""})`,priority:1},this.inputRules=(e,t)=>[new y(/\[(?<text>.+?)]\((?<href>.*?)(?=“|\))"?(?<title>[^"]+)?"?\)/,((s,n,i,o)=>{const[r,a="",l,c]=n,{tr:d}=s;return r&&d.replaceWith(i,o,t.text(a)).addMark(i,a.length+i,e.create({title:c,href:l})),d}))]}},new class extends Re{constructor(){super(...arguments),this.id="strong",this.schema={parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>"bold"===e}],toDOM:()=>["strong",{class:"strong"}]},this.parser={mark:this.id},this.serializer={open:"**",close:"**"},this.inputRules=e=>[it(/(?:__)([^_]+)(?:__)$/,e),it(/(?:\*\*)([^*]+)(?:\*\*)$/,e)],this.keymap=e=>({"Mod-b":x(e)})}},new class extends Re{constructor(){super(...arguments),this.id="code_inline",this.schema={excludes:"_",parseDOM:[{tag:"code"}],toDOM:()=>["code",{class:"code-inline"}]},this.parser={mark:"code_inline",isAtom:!0},this.serializer={open:"`",close:"`"},this.inputRules=e=>[it(/(?:^|[^`])(`([^`]+)`)$/,e)]}},new class extends Re{constructor(){super(...arguments),this.id="em",this.schema={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>"italic"===e}],toDOM:()=>["em",{class:"em"}]},this.parser={mark:"em"},this.serializer={open:"*",close:"*"},this.inputRules=e=>[it(/(?:^|[^_])(_([^_]+)_)$/,e),it(/(?:^|[^*])(\*([^*]+)\*)$/,e)],this.keymap=e=>({"Mod-i":x(e)})}}];const rt=Array(5).fill(0).map(((e,t)=>t+1));const at=["","javascript","typescript","bash","sql","json","c","cpp","java","ruby","python","go","rust"];const lt=[...[new class extends Pe{constructor(){super(...arguments),this.id="paragraph",this.schema={content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",{class:"paragraph"},0]},this.parser={block:this.id},this.serializer=(e,t)=>{e.renderInline(t).closeBlock(t)}}},new class extends Pe{constructor(){super(...arguments),this.id="hardbreak",this.schema={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br",{class:"bard-break"}]},this.parser={block:this.id,isAtom:!0},this.serializer=e=>{e.write("  \n")},this.keymap=e=>({"Shift-Enter":(t,s)=>(null==s||s(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)})}},new class extends Pe{constructor(){super(...arguments),this.id="blockquote",this.schema={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",{class:"blockquote"},0]},this.parser={block:this.id},this.serializer=(e,t)=>{e.wrapBlock("> ",t,(()=>e.renderContent(t)))},this.inputRules=e=>[M(/^\s*>\s$/,e)]}},new class extends Pe{constructor(){super(...arguments),this.id="fence",this.schema={content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({language:e.dataset.language})}],toDOM:e=>{const t=this.createSelectElement(e.attrs.language);return["div",{"data-language":e.attrs.language,class:"code-fence"},["div",{contentEditable:"false"},t],["pre",["code",{spellCheck:"false"},0]]]}},this.parser={block:this.id,getAttrs:e=>({language:e.info}),isAtom:!0},this.serializer=(e,t)=>{e.write("```"+t.attrs.language+"\n"),e.text(t.textContent),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},this.inputRules=e=>[E(/^```$/,e)],this.keymap=()=>({Tab:(e,t)=>{const{tr:s,selection:n}=e;return!!t&&(t(s.insertText("  ",n.from,n.to)),!0)}})}onChangeLanguage(e,t,s){const{editorView:n}=this.context,i=n.posAtCoords({top:e,left:t});if(!i)return;const o=n.state.tr.setNodeMarkup(i.inside,void 0,{language:s});n.dispatch(o)}createSelectElement(e){const t=document.createElement("select");return t.className="code-fence_select",t.addEventListener("mousedown",(e=>{const{editorView:t}=this.context;t.editable||e.preventDefault()})),t.addEventListener("change",(e=>{if(this.context.loadState!==Ae.Complete)throw new Error("Should not trigger event before milkdown ready.");const t=e.target;if(!t)return;const{top:s,left:n}=t.getBoundingClientRect();this.onChangeLanguage(s,n,t.value)})),at.forEach((s=>{const n=document.createElement("option");n.className="code-fence_select-option",n.value=s,n.innerText=s||"--",n.selected=e===s,t.appendChild(n)})),t}},new class extends Pe{constructor(){super(...arguments),this.id="ordered_list",this.schema={content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?Number(e.getAttribute("start")):1})}],toDOM:e=>["ol",Object.assign(Object.assign({},1===e.attrs.order?{}:e.attrs.order),{class:"ordered-list"}),0]},this.parser={block:this.id},this.serializer=(e,t)=>{const{order:s=1}=t.attrs,n=(""+(s+t.childCount-1)).length,i=e.utils.repeat(" ",n+2);e.renderList(t,i,(t=>{const i=`${s+t}`;return e.utils.repeat(" ",n-i.length)+i+". "}))},this.inputRules=e=>[M(/^(\d+)\.\s$/,e,(e=>({order:Number(e[1])})),((e,t)=>t.childCount+t.attrs.order===Number(e[1])))]}},new class extends Pe{constructor(){super(...arguments),this.id="bullet_list",this.schema={content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",{class:"bullet-list"},0]},this.parser={block:this.id},this.serializer=(e,t)=>{e.renderList(t,"  ",(()=>"* "))},this.inputRules=e=>[M(/^\s*([-+*])\s$/,e)]}},new class extends Pe{constructor(){super(...arguments),this.id="list_item",this.schema={content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",{class:"list-item"},0]},this.parser={block:this.id},this.serializer=(e,t)=>{e.renderContent(t)},this.keymap=e=>({Enter:_(e),"Mod-]":A(e),"Mod-[":L(e)})}},new class extends Pe{constructor(){super(...arguments),this.id="heading",this.schema={content:"text*",group:"block",attrs:{level:{default:1}},parseDOM:rt.map((e=>({tag:`h${e}`,attrs:{level:e}}))),toDOM:e=>[`h${e.attrs.level}`,{class:`heading h${e.attrs.level}`},0]},this.parser={block:this.id,getAttrs:e=>({level:Number(e.tag.slice(1))})},this.serializer=(e,t)=>{e.write(`${e.utils.repeat("#",t.attrs.level)} `),e.renderInline(t),e.closeBlock(t)},this.inputRules=e=>rt.map((t=>E(new RegExp(`^(#{1,${t}})\\s$`),e,(()=>({level:t})))))}},new class extends Pe{constructor(){super(...arguments),this.id="hr",this.schema={group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr",{class:"hr"}]},this.parser={block:this.id,isAtom:!0},this.serializer=(e,t)=>{e.write("---"),e.closeBlock(t)},this.inputRules=e=>[new y(/^(?:---|___\s|\*\*\*\s)$/,((t,s,n,i)=>{const{tr:o}=t;return s[0]&&o.replaceWith(n,i,e.create({})),o}))]}},new class extends Pe{constructor(){super(...arguments),this.id="image",this.schema={inline:!0,attrs:{src:{default:""},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,marks:"",parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt"),title:e.getAttribute("title")}}}],toDOM:e=>{var t;return(null===(t=e.attrs.src)||void 0===t?void 0:t.length)>0?["img",Object.assign(Object.assign({},e.attrs),{class:"image"})]:["div",Object.assign(Object.assign({},e.attrs),{class:"image empty"}),["span",{contentEditable:"false",class:"icon"}],["span",{contentEditable:"false",class:"placeholder"}]]}},this.parser={node:"image",getAttrs:e=>{var t,s;return{src:e.attrGet("src")||"",alt:(null===(s=null===(t=e.children)||void 0===t?void 0:t[0])||void 0===s?void 0:s.content)||null,title:e.attrGet("title")}}},this.serializer=(e,t)=>{const s=e.utils.escape(t.attrs.alt||""),n=t.attrs.title?" "+e.utils.quote(t.attrs.title):"",i=e.utils.escape(t.attrs.src)+n;e.write(`![${s}](${i}) `)},this.inputRules=e=>[new y(/!\[(?<alt>.*?)]\((?<filename>.*?)(?=“|\))"?(?<title>[^"]+)?"?\)/,((t,s,n,i)=>{const[o,r,a="",l]=s,{tr:c}=t;return o&&c.replaceWith(n,i,e.create({src:a,alt:r,title:l})),c}))]}},new class extends Pe{constructor(){super(...arguments),this.id="tab_indent",this.schema={group:"inline",inline:!0,selectable:!1,parseDOM:[{tag:"span[class='tab-indent']"}],toDOM:()=>["span",{class:"tab-indent"},"  "]},this.parser={block:this.id},this.serializer=e=>{e.write("  ")},this.keymap=e=>({Tab:(t,s)=>{const{selection:n}=t.tr,i=Boolean(t.tr);if(!n)return i;const{from:o,to:r}=n;if(o!==r||!e)return i;const a=t.tr.replaceSelectionWith(e.create()).scrollIntoView();return null==s||s(a),Boolean(a)}})}}],...ot],ct=e=>t=>{const{$from:s}=t;for(let n=s.depth;n>0;n--){const t=s.node(n);if(e(t))return{pos:n>0?s.before(n):0,start:s.start(n),depth:n,node:t}}},dt=e=>(t,s)=>{let n;const{from:i,to:o}=t;return s.nodesBetween(i,o,((t,s)=>{if(n)return!1;e(t)&&(n={node:t,pos:s})})),n},ht=e=>Object.assign(Object.create(e),e).setTime(Date.now()),ut=(mt=e=>e.isBlock,(e,t)=>((e,t=!0)=>{const s=[];return e.descendants(((e,n)=>{if(s.push({node:e,pos:n}),!t)return!1})),s})(e,t).filter((e=>mt(e.node))));var mt;const pt={};const ft="MILKDOWN_PLUGIN_PRISM";function gt(e){let t=!1;return new $({key:new T(ft),state:{init:(e,{doc:t})=>C.create(t,[]),apply:(s,n,i,o)=>{const r=o.selection.$head.parent.type.name===e,a=i.selection.$head.parent.type.name===e,l=s.docChanged&&(r||a);return!t||l?(t=!0,function(e,t){const s=[],n=ut(e).filter((e=>e.node.type.name===t));return n.forEach((e=>{var t;let n=e.pos+1;const i=e.node.attrs.language;if(i){if(!(null===(t=pt[e.pos])||void 0===t?void 0:t.node.eq(e.node))){const t=O.highlight(e.node.textContent,i),s=(e,t=[])=>e.flatMap((e=>"element"===e.type?s(e.children,[...t,...e.properties.className||[]]):[{text:e.value,className:t}])),o=s(t).map((({text:e,className:t})=>{const s=n,i=s+e.length;return n=i,S.inline(s,i,{class:t.join(" ")})}));pt[e.pos]={node:e.node,dec:o}}pt[e.pos].dec.forEach((e=>{s.push(e)}))}})),Object.keys(pt).filter((e=>!n.find((t=>t.pos===Number(e))))).forEach((e=>{delete pt[Number(e)]})),C.create(e,s)}(s.doc,e)):n.map(s.mapping,s.doc)}},view:e=>(window.requestAnimationFrame((()=>{e.dispatch(e.state.tr.setMeta(ft,{loaded:!0}))})),{}),props:{decorations(e){return this.getState(e)}}})}const wt=Ze("prism",(()=>[gt("fence")])),kt=(e,t)=>e.tagName===t.toUpperCase(),vt=e=>{const t=document.createElement("span");return t.textContent=e,t.className="icon material-icons",t},bt=(e,t)=>{const{from:s,to:n}=e.selection;return e.doc.rangeHasMark(s,n,t)},yt=(e,t)=>{var s;return null===(s=dt((e=>Boolean(t.isInSet(e.marks))))(e.selection,e.doc))||void 0===s?void 0:s.node},xt=(e,t)=>!(e=>e.selection instanceof I)(e)||(e=>Boolean(ct((e=>"fence"===e.type.name))(e.selection)))(e)||bt(e,t),Mt=(e,t,s)=>(n,i)=>{if(!i)return!1;const{start:o,end:r}=((e,t)=>{let s={start:-1,end:-1};const n=dt((e=>Boolean(t.isInSet(e.marks))))(e.selection,e.doc);return n&&(s={start:n.pos,end:n.pos+Math.max(n.node.textContent.length,1)}),s})(n,e),{tr:a}=n,l=t.create(Object.assign(Object.assign({},e.attrs),{href:s}));return a.removeMark(o,r).addMark(o,r,l).setSelection(new I(a.selection.$anchor)),i(a.scrollIntoView()),!0},Et=(e,t)=>(s,n)=>{const{target:i}=s,{nodes:o}=e,{image:r}=o;if(!(i instanceof HTMLElement))return()=>!0;if(kt(i,"input"))return i.focus(),()=>!1;const a=_t(n.state.selection,r);if(!a)return()=>!1;const l=i.parentNode;if(!l)return()=>!1;const c=Array.from(l.children).find((e=>"INPUT"===e.tagName));return c instanceof HTMLInputElement?(e,s)=>{if(!s)return!1;const{tr:n}=e;return n.setNodeMarkup(a.pos,void 0,Object.assign(Object.assign({},a.node.attrs),{[t]:c.value})),s(n.scrollIntoView()),!0}:()=>!1},_t=(e,t)=>{if(!(e instanceof R))return;const{node:s,$from:n}=e;return((e,t)=>Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e)(t,s)?{node:s,pos:n.pos,depth:n.depth}:void 0},At=(e,t,s,n)=>({$:vt(e),command:()=>x(t,n),active:e=>bt(e.state,t),disable:e=>xt(e.state,s)});var Lt,Ct,Ot,St;(Ct=Lt||(Lt={}))[Ct.ToggleBold=0]="ToggleBold",Ct[Ct.ToggleItalic=1]="ToggleItalic",Ct[Ct.ToggleCode=2]="ToggleCode",Ct[Ct.ToggleLink=3]="ToggleLink",(St=Ot||(Ot={}))[St.ModifyLink=0]="ModifyLink",St[St.ModifyImage=1]="ModifyImage";var $t,Tt,It,Rt,Pt,Nt,Dt,Wt;class jt{constructor(e,t){this.view=t,$t.set(this,void 0),Tt.set(this,void 0),It.set(this,(e=>{const{view:t}=this;if(!t)return;const s=Object.values(h(this,Tt)).find((({$:t})=>e.target instanceof Element&&t.contains(e.target)));s&&(e.stopPropagation(),e.preventDefault(),s.command(e,t)(t.state,t.dispatch))})),d(this,Tt,e),d(this,$t,this.createTooltip()),h(this,$t).addEventListener("mousedown",h(this,It))}destroy(){h(this,$t).removeEventListener("mousedown",h(this,It)),h(this,$t).remove()}hide(){h(this,$t).classList.add("hide")}update(e){this.filterButton(e)?this.hide():this.calcPos(e)}get noActive(){return Object.values(h(this,Tt)).every((({$:e})=>e.classList.contains("hide")))}filterButton(e){return Object.values(h(this,Tt)).forEach((t=>{var s;if(null===(s=t.disable)||void 0===s?void 0:s.call(t,e))return void t.$.classList.add("hide");t.$.classList.remove("hide");t.active(e)?t.$.classList.add("active"):t.$.classList.remove("active")})),this.noActive}calcPos(e){var t;h(this,$t).classList.remove("hide");const s=e.state,{from:n,to:i}=s.selection,o=e.coordsAtPos(n),r=e.coordsAtPos(i),a=Math.max((o.left+r.left)/2,o.left+3),l=null===(t=h(this,$t).offsetParent)||void 0===t?void 0:t.getBoundingClientRect();l&&(h(this,$t).style.left=a-l.left+"px",h(this,$t).style.bottom=l.bottom-o.top+"px")}createTooltip(){var e;const t=document.createElement("div");return t.className="tooltip",Object.values(h(this,Tt)).forEach((({$:e})=>t.appendChild(e))),null===(e=this.view.dom.parentNode)||void 0===e||e.appendChild(t),t}}$t=new WeakMap,Tt=new WeakMap,It=new WeakMap;class Bt{constructor(e,t){this.view=t,Rt.set(this,void 0),Pt.set(this,void 0),Nt.set(this,void 0),this.listener=e=>{const{view:t}=this,s=h(this,Nt);t&&s&&(e.stopPropagation(),s(e,t)(t.state,t.dispatch))},d(this,Pt,e),d(this,Rt,this.createInput()),h(this,Rt).addEventListener("mousedown",this.listener)}destroy(){h(this,Rt).removeEventListener("mousedown",this.listener),h(this,Rt).remove()}hide(){h(this,Rt).classList.add("hide"),d(this,Nt,void 0)}update(e){this.filterInput(e)&&this.calcPos(e)}calcPos(e){var t;const s=e.state,{from:n,to:i}=s.selection,o=e.coordsAtPos(n),r=e.coordsAtPos(i),a=Math.max((o.left+r.left)/2,o.left+3),l=h(this,Rt).getBoundingClientRect(),c=null===(t=h(this,Rt).offsetParent)||void 0===t?void 0:t.getBoundingClientRect();if(!c)return;const d=a-c.left-l.width/2,u=d+l.width;h(this,Rt).style.left=(u>c.width?d-(u-c.width):d<0?a-c.left:d)+"px",h(this,Rt).style.bottom=c.bottom-o.bottom-l.height-10+"px"}createInput(){var e;const t=document.createElement("div");t.className="tooltip-input";const s=document.createElement("input");t.appendChild(s);const n=document.createElement("button");return n.textContent="APPLY",t.appendChild(n),null===(e=this.view.dom.parentNode)||void 0===e||e.appendChild(t),t}filterInput(e){var t;const s=Object.values(h(this,Pt)).find((t=>t.display(e)));return s?(h(this,Rt).classList.remove("hide"),d(this,Nt,s.command),null===(t=h(this,Rt).firstElementChild)||void 0===t||t.setAttribute("placeholder",s.placeholder),s.update(e,h(this,Rt)),!0):(h(this,Rt).classList.add("hide"),!1)}}Rt=new WeakMap,Pt=new WeakMap,Nt=new WeakMap;class zt{constructor(e,t,s){Dt.set(this,void 0),Wt.set(this,void 0),d(this,Dt,new jt(e,s)),d(this,Wt,new Bt(t,s)),this.update(s)}update(e,t){if(!e.editable)return void this.hide();const s=e.state;if(s.selection.empty)return void this.hide();(null==t?void 0:t.doc.eq(s.doc))&&t.selection.eq(s.selection)||(h(this,Dt).update(e),h(this,Wt).update(e))}destroy(){h(this,Dt).destroy(),h(this,Wt).destroy()}hide(){h(this,Dt).hide(),h(this,Wt).hide()}}Dt=new WeakMap,Wt=new WeakMap;const Ht=e=>new $({key:new T("MILKDOWN_PLUGIN_TOOLTIP"),view:t=>new zt((e=>{const{marks:t}=e.schema;return{[Lt.ToggleBold]:At("format_bold",t.strong,t.code_inline),[Lt.ToggleItalic]:At("format_italic",t.em,t.code_inline),[Lt.ToggleCode]:At("code",t.code_inline,t.link),[Lt.ToggleLink]:At("link",t.link,t.code_inline,{href:""})}})(e),(e=>{const{marks:t,nodes:s}=e.schema;return{[Ot.ModifyLink]:{display:e=>bt(e.state,t.link),command:(n=e.schema,(e,t)=>{var s;const{target:i}=e,{marks:o}=n,{link:r}=o;if(!(i instanceof HTMLElement))return()=>!0;if(kt(i,"input"))return i.focus(),()=>!1;const a=yt(t.state,r);if(!a)return()=>!1;const l=a.marks.find((({type:e})=>e===r));if(!l)return()=>!1;const c=null===(s=i.parentNode)||void 0===s?void 0:s.firstChild;return c instanceof HTMLInputElement?Mt(l,o.link,c.value):()=>!1}),placeholder:"Input Web Link",update:(e,s)=>{const{firstChild:n}=s;if(!(n instanceof HTMLInputElement))return;const i=yt(e.state,t.link);if(!i)return;const o=i.marks.find((e=>e.type===t.link));o&&(n.value=o.attrs.href)}},[Ot.ModifyImage]:{display:e=>Boolean(_t(e.state.selection,s.image)),command:Et(e.schema,"src"),placeholder:"Input Image Link",update:(e,t)=>{const{firstChild:n}=t;if(!(n instanceof HTMLInputElement))return;const i=_t(e.state.selection,s.image);i&&(n.value=i.node.attrs.src)}}};var n})(e),t)}),Ft=Ze("tooltip",(e=>[Ht(e)]));const Vt=[new class extends Pe{constructor(){super(...arguments),this.id="math_inline",this.schema={group:"inline math",content:"text*",inline:!0,atom:!0,parseDOM:[{tag:"math-inline"}],toDOM:()=>["math-inline",{class:"math-node"},0]},this.parser={block:this.id,isAtom:!0},this.serializer=(e,t)=>{e.write("$"),e.renderContent(t),e.write("$")},this.inputRules=e=>[P(D,e)]}},new class extends Pe{constructor(){super(...arguments),this.id="math_display",this.schema={group:"block math",content:"text*",atom:!0,code:!0,parseDOM:[{tag:"math-display"}],toDOM:()=>["math-display",{class:"math-node"},0]},this.parser={block:"math_block",isAtom:!0},this.serializer=(e,t)=>{e.write("$$").ensureNewLine().renderContent(t).ensureNewLine().write("$$").closeBlock(t)},this.inputRules=e=>[N(W,e)]}}],qt=u({Backspace:j(z,H,F,V)}),Gt=[...Vt,Ze("mathProsemirrorPlugin",(()=>[B,qt])),tt("mathMarkdownItPlugin",(()=>[q]))],Yt=e=>ct((e=>"table"===e.type.spec.tableRole))(e),Ut=(e,t=3,s=3)=>{const{cell:n,header_cell:i,row:o,table:r}=G(e),a=Array(s).fill(0).map((()=>n.createAndFill(null))),l=Array(s).fill(0).map((()=>i.createAndFill(null))),c=Array(t).fill(0).map(((e,t)=>o.create(null,0===t?l:a)));return r.create(null,c)},Kt=e=>t=>s=>{const n=Yt(s.selection),i="row"===e;if(n){const e=Y.get(n.node);if(t>=0&&t<(i?e.height:e.width)){const o=e.positionAt(i?t:e.height-1,i?e.width-1:t,n.node),r=s.doc.resolve(n.start+o),a=i?U.rowSelection:U.colSelection,l=e.positionAt(i?t:0,i?0:t,n.node),c=s.doc.resolve(n.start+l);return ht(s.setSelection(a(r,c)))}}return s},Qt=e=>{const t=(e=>{const t=Yt(e);if(!t)return;const s=Y.get(t.node);return s.cellsInRect({left:0,right:s.width,top:0,bottom:s.height}).map((e=>{const s=t.node.nodeAt(e),n=e+t.start;return{pos:n,start:n+1,node:s}}))})(e.selection);if(t){const s=e.doc.resolve(t[0].pos),n=e.doc.resolve(t[t.length-1].pos);return ht(e.setSelection(new U(n,s)))}return e},Xt=K({tableGroup:"block",cellContent:"table_inline",cellAttributes:{alignment:{default:"left",getFromDOM:e=>e.style.textAlign||"left",setDOMAttr:(e,t)=>{t.style=`text-align: ${e||"left"}`}}}});const Jt=[new class extends Pe{constructor(){super(...arguments),this.id="table",this.schema=Xt.table,this.parser={block:this.id},this.serializer=(e,t)=>{let s="";e.ensureNewLine(),t.forEach(((t,n,i)=>{s&&(e.write(`${s}|\n`),s=""),t.forEach(((t,n,o)=>{if(e.write(0===o?"| ":" | "),e.renderContent(t),0===i)switch(t.attrs.alignment){case"center":return void(s+="|:---:");case"left":return void(s+="|:---");case"right":return void(s+="|---:");default:return void(s+="|----")}})),e.write(" |\n")})),e.closeBlock(t)},this.inputRules=(e,t)=>[new y(/^\|\|\s$/,((s,n,i,o)=>{const r=s.doc.resolve(i);if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e))return null;const a=Ut(t),l=s.tr.replaceRangeWith(i,o,a).scrollIntoView();return l.setSelection(I.create(l.doc,i+3))}))]}},new class extends Pe{constructor(){super(...arguments),this.id="table_row",this.schema=Xt.table_row,this.parser={block:"tr"},this.serializer=()=>{}}},new class extends Pe{constructor(){super(...arguments),this.id="table_cell",this.schema=Xt.table_cell,this.parser={block:"td",getAttrs:e=>({alignment:e.info})},this.serializer=()=>{}}},new class extends Pe{constructor(){super(...arguments),this.id="table_header",this.schema=Xt.table_header,this.parser={block:"th",getAttrs:e=>({alignment:e.info})},this.serializer=()=>{}}},new class extends Pe{constructor(){super(...arguments),this.id="table_inline",this.schema={content:"inline*",group:"block",parseDOM:[{tag:"span"}],toDOM:()=>["span",{class:"table-inline"},0]},this.parser={block:this.id},this.serializer=(e,t)=>{e.renderInline(t)}}}];var Zt,es,ts,ss,ns,is,os,rs;function as(e){const t=document.createElement("span");return t.textContent=e,t.className="icon material-icons material-icons-outlined",t}(is=ns||(ns={})).Left="Left",is.Top="Top",is.Point="Point",(rs=os||(os={}))[rs.AddColLeft=0]="AddColLeft",rs[rs.AddColRight=1]="AddColRight",rs[rs.AddRowTop=2]="AddRowTop",rs[rs.AddRowBottom=3]="AddRowBottom",rs[rs.AlignLeft=4]="AlignLeft",rs[rs.AlignCenter=5]="AlignCenter",rs[rs.AlignRight=6]="AlignRight",rs[rs.Delete=7]="Delete";const ls=e=>e.state.selection;var cs,ds;(ds=cs||(cs={})).Col="Col",ds.Row="Row",ds.All="All";const hs=e=>{const t=ls(e),s=t.isRowSelection(),n=t.isColSelection();return s&&n?cs.All:s?cs.Row:cs.Col};class us{constructor(){Zt.set(this,[]),es.set(this,void 0),ts.set(this,void 0),ss.set(this,{[os.AddColLeft]:{$:as("chevron_left"),command:()=>Q,disable:e=>hs(e)!==cs.Col},[os.AddColRight]:{$:as("chevron_right"),command:()=>X,disable:e=>hs(e)!==cs.Col},[os.AddRowTop]:{$:as("expand_less"),command:()=>J,disable:e=>hs(e)!==cs.Row||"table_header"===ls(e).$head.parent.type.name},[os.AddRowBottom]:{$:as("expand_more"),command:()=>Z,disable:e=>hs(e)!==cs.Row},[os.AlignLeft]:{$:as("format_align_left"),command:()=>ee("alignment","left"),disable:e=>!ls(e).isColSelection()},[os.AlignCenter]:{$:as("format_align_center"),command:()=>ee("alignment","center"),disable:e=>!ls(e).isColSelection()},[os.AlignRight]:{$:as("format_align_right"),command:()=>ee("alignment","right"),disable:e=>!ls(e).isColSelection()},[os.Delete]:{$:as("delete"),command:(e,t)=>{const s=ls(t),n=s.isColSelection(),i=s.isRowSelection();return n&&i?te:n?se:ne}}}),this.key=new T("TABLE_OP"),this.decorations=e=>{const t=(s=0,e=>{const t=Yt(e);if(!t)return;const n=Y.get(t.node);return s<0||s>=n.width?void 0:n.cellsInRect({left:s,right:s+1,top:0,bottom:n.height}).map((e=>{const s=t.node.nodeAt(e);if(!s)throw new Error;const n=e+t.start;return{pos:n,start:n+1,node:s}}))})(e.selection);var s;if(!t)return null;const n=(i=0,e=>{const t=Yt(e);if(!t)return;const s=Y.get(t.node);return i<0||i>=s.height?void 0:s.cellsInRect({left:0,right:s.width,top:i,bottom:i+1}).map((e=>{const s=t.node.nodeAt(e);if(!s)throw new Error;const n=e+t.start;return{pos:n,start:n+1,node:s}}))})(e.selection);var i;if(!n)return null;const[o]=t;return this.createWidget(o,ns.Point),t.forEach(((e,t)=>{this.createWidget(e,ns.Left,t)})),n.forEach(((e,t)=>{this.createWidget(e,ns.Top,t)})),C.create(e.doc,h(this,Zt))},this.update=(e,t)=>{const s=e.state;if((null==t?void 0:t.doc.eq(s.doc))&&t.selection.eq(s.selection))return;s.selection instanceof U&&e.editable?(this.calculateItem(e),Object.values(h(this,ss)).every((({$:e})=>e.classList.contains("hide")))?this.hide():(h(this,es).classList.remove("hide"),this.calculatePosition(e))):this.hide()},this.props={decorations:this.decorations},this.view=e=>{var t;return d(this,ts,e),Object.values(h(this,ss)).forEach((({$:e})=>h(this,es).appendChild(e))),null===(t=e.dom.parentNode)||void 0===t||t.appendChild(h(this,es)),this.update(e),h(this,es).addEventListener("mousedown",this.listener),{update:this.update,destroy:()=>{h(this,es).removeEventListener("mousedown",this.listener),h(this,es).remove()}}},this.listener=e=>{const t=h(this,ts);t&&(e.stopPropagation(),e.preventDefault(),Object.values(h(this,ss)).forEach((({$:s,command:n})=>{s.contains(e.target)&&n(e,t)(t.state,t.dispatch)})))},d(this,es,document.createElement("div")),h(this,es).classList.add("table-tooltip")}createWidget(e,t,s=0){const n=S.widget(e.pos+1,(()=>{const e=document.createElement("div");return e.classList.add(this.calculateClassName(t)),e.addEventListener("mousedown",(e=>{if(h(this,ts))switch(e.preventDefault(),t){case ns.Point:return void h(this,ts).dispatch(Qt(h(this,ts).state.tr));case ns.Left:return void h(this,ts).dispatch(Kt("row")(s)(h(this,ts).state.tr));case ns.Top:return void h(this,ts).dispatch(Kt("col")(s)(h(this,ts).state.tr))}})),e}));h(this,Zt).push(n)}calculateClassName(e){switch(e){case ns.Left:return"milkdown-cell-left";case ns.Top:return"milkdown-cell-top";case ns.Point:return"milkdown-cell-point";default:throw new Error}}calculatePosition(e){var t;const s=e.state.selection,n=s.isColSelection(),i=s.isRowSelection();if(!n&&!i)return;const{from:o,to:r}=s,a=e.coordsAtPos(o),l=e.coordsAtPos(r),c=Math.max((a.left+l.left)/2,a.left+3),d=null===(t=h(this,es).offsetParent)||void 0===t?void 0:t.getBoundingClientRect();if(!d)return;const u=c-d.left-(i?8:-e.domAtPos(o).node.getBoundingClientRect().width/2+16),m=d.bottom-a.bottom;h(this,es).style.left=u+"px",h(this,es).style.bottom=m+"px"}calculateItem(e){Object.values(h(this,ss)).forEach((t=>{var s;(null===(s=t.disable)||void 0===s?void 0:s.call(t,e))?t.$.classList.add("hide"):t.$.classList.remove("hide")}))}hide(){h(this,es).classList.add("hide")}}Zt=new WeakMap,es=new WeakMap,ts=new WeakMap,ss=new WeakMap;const ms=/(?:^|[^\\])\\n/;function ps(e){e.core.ruler.after("inline","milkdown-table",(e=>{const t=e.tokens;let s=!1;for(let n=t.length-1;n>0;n--){if(s&&t[n].level--,"inline"===t[n].type&&t[n].content.match(ms)){const e=t[n].children||[];t[n].children=[],e.forEach((e=>{var s;const i=e.content.split(ms);i.length>1&&"code_inline"!==e.type?i.forEach(((e,s)=>{var o,r;const a=new ie("text","",1);if(a.content=e.trim(),null===(o=t[n].children)||void 0===o||o.push(a),s<i.length-1){const e=new ie("br","br",1);null===(r=t[n].children)||void 0===r||r.push(e)}})):null===(s=t[n].children)||void 0===s||s.push(e)}))}if(["thead_open","thead_close","tbody_open","tbody_close"].includes(t[n].type)&&(s=!s,t.splice(n,1)),["th_open","td_open"].includes(t[n].type)){t.splice(n+1,0,new ie("table_inline_open","span",1));const e=t[n].attrs;if(e){const s=e[0][1];t[n].info=s.split(":")[1]}}["th_close","td_close"].includes(t[n].type)&&t.splice(n,0,new ie("table_inline_close","span",-1))}return!1}))}const fs=Ze("milkdown-table",(e=>{return[ae({}),le(),new $(new us),u({"Mod-]":ce(1),"Mod-[":ce(-1),"Mod-Enter":(t=e.schema.nodes.paragraph,(e,s)=>{if(!oe(e))return!1;const{$head:n}=e.selection,i=n.after(),o=e.tr.replaceWith(i,i,t.createAndFill());return o.setSelection(re.near(o.doc.resolve(i),1)),null==s||s(o.scrollIntoView()),!0})})];var t}));var gs;const ws=[...Jt,(gs=()=>["table"],new(st("milkdown-table-rule"))({rules:gs})),tt("milkdown-table-markdown",(()=>[ps])),fs],ks=e=>{const t=document.createElement("span");return t.textContent=e,t.classList.add("slash-placeholder"),t},vs=(e,t)=>{const s=document.createElement("div");s.classList.add("slash-dropdown-item");const n=document.createElement("span");n.textContent=t,n.className="icon material-icons material-icons-outlined";const i=document.createElement("span");return i.textContent=e,i.className="text",s.appendChild(n),s.appendChild(i),s};var bs,ys;(ys=bs||(bs={}))[ys.Divider=0]="Divider",ys[ys.H1=1]="H1",ys[ys.H2=2]="H2",ys[ys.H3=3]="H3",ys[ys.BulletList=4]="BulletList",ys[ys.OrderedList=5]="OrderedList",ys[ys.Quote=6]="Quote",ys[ys.CodeFence=7]="CodeFence",ys[ys.Table=8]="Table",ys[ys.DivideLine=9]="DivideLine",ys[ys.Image=10]="Image";const xs=e=>t=>(s,n)=>{if(!n)return!1;const{selection:i}=s,{$head:o}=i,r=o.pos-1-o.parent.content.size,a=s.tr.replaceWith(r,o.pos,e(t)),l=o.pos-1-o.parent.content.size+1,c=I.create(a.doc,l);return n(a.setSelection(c)),!0},Ms=[{type:bs.H1,$:vs("Large Heading","looks_one"),command:xs((e=>e.schema.nodes.heading.create({level:1}))),keyword:["h1","large heading"]},{type:bs.H2,$:vs("Medium Heading","looks_two"),command:xs((e=>e.schema.nodes.heading.create({level:2}))),keyword:["h2","medium heading"]},{type:bs.H3,$:vs("Small Heading","looks_3"),command:xs((e=>e.schema.nodes.heading.create({level:3}))),keyword:["h3","small heading"]},{type:bs.BulletList,$:vs("Bullet List","format_list_bulleted"),command:xs((e=>e.schema.nodes.bullet_list.createAndFill(null))),keyword:["bullet list","ul"]},{type:bs.OrderedList,$:vs("Ordered List","format_list_numbered"),command:xs((e=>e.schema.nodes.ordered_list.createAndFill(null))),keyword:["ordered list","ol"]},{type:bs.Image,$:vs("Image","image"),command:xs((e=>e.schema.nodes.image.createAndFill({src:""}))),keyword:["image"]},{type:bs.Quote,$:vs("Quote","format_quote"),command:xs((e=>e.schema.nodes.blockquote.createAndFill(null))),keyword:["quote","blockquote"]},{type:bs.Table,$:vs("Table","table_chart"),command:xs((e=>Ut(e.schema))),keyword:["table"]},{type:bs.CodeFence,$:vs("Code Fence","code"),command:xs((e=>e.schema.nodes.fence.createAndFill(null))),keyword:["code"]},{type:bs.DivideLine,$:vs("Divide Line","horizontal_rule"),command:xs((e=>e.schema.nodes.hr.create())),keyword:["divider","hr"]}];var Es,_s,As,Ls,Cs,Os,Ss,$s,Ts,Is,Rs;const Ps=Ze("slash",(e=>[Ns(e)])),Ns=e=>new $(new js(e));var Ds,Ws;(Ws=Ds||(Ds={}))[Ws.Empty=0]="Empty",Ws[Ws.Slash=1]="Slash";class js{constructor(e){this.ctx=e,this.key=new T("milkdown-prosemirror-slash-plugin"),this.status=new Bs,this.props=new zs(this.status),this.view=e=>new Hs(this.status,e,this.ctx)}}class Bs{constructor(){Es.set(this,Ds.Empty),_s.set(this,""),this.activeActions=Ms}clearStatus(){d(this,Es,Ds.Empty),d(this,_s,"")}setSlash(e=""){d(this,Es,Ds.Slash),d(this,_s,e)}get cursorStatus(){return h(this,Es)}get filter(){return h(this,_s)}}Es=new WeakMap,_s=new WeakMap;class zs{constructor(e){this.status=e,this.handleKeyDown=(e,t)=>{const{cursorStatus:s,activeActions:n}=this.status;return s===Ds.Slash&&0!==n.length&&(t instanceof KeyboardEvent&&!!["ArrowUp","ArrowDown","Enter"].includes(t.key))},this.decorations=e=>{const t=ct((({type:e})=>"paragraph"===e.name))(e.selection);if(!t)return this.status.clearStatus(),null;const s=1===e.selection.$from.depth,n=0===t.node.content.size,i="/"===t.node.textContent,o=t.node.textContent.startsWith("/"),r=(t,s)=>C.create(e.doc,[S.widget(t,ks(s))]);return s?n?(this.status.clearStatus(),r(t.pos+1,"Type / to use the slash commands...")):i?(this.status.setSlash(),r(t.pos+2,"Type to filter...")):o?(this.status.setSlash(t.node.textContent.slice(1)),null):(this.status.clearStatus(),null):(this.status.clearStatus(),null)}}}class Hs{constructor(e,t,s){As.set(this,void 0),Ls.set(this,void 0),Cs.set(this,void 0),Os.set(this,void 0),Ss.set(this,void 0),$s.set(this,(e=>{const{target:t}=e;if(!(t instanceof HTMLElement))return;const s=h(this,Ss);if(!s)return;const n=Object.values(Ms).find((({$:e})=>e.contains(t)));n&&(e.stopPropagation(),e.preventDefault(),n.command(h(this,Cs))(s.state,s.dispatch))})),Ts.set(this,(e=>{const{key:t}=e;if(h(this,Os).cursorStatus!==Ds.Slash)return;if(!["ArrowDown","ArrowUp","Enter"].includes(t))return;let s=h(this,Os).activeActions.findIndex((e=>e.$.classList.contains("active")));if(s<0&&(s=0),"ArrowDown"===t){const e=s===h(this,Os).activeActions.length-1?0:s+1;return h(this,Os).activeActions[s].$.classList.remove("active"),h(this,Os).activeActions[e].$.classList.add("active"),void de(h(this,Os).activeActions[e].$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}if("ArrowUp"===t){const e=0===s?h(this,Os).activeActions.length-1:s-1;return h(this,Os).activeActions[s].$.classList.remove("active"),h(this,Os).activeActions[e].$.classList.add("active"),void de(h(this,Os).activeActions[e].$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}h(this,Os).activeActions[s].command(h(this,Cs))(h(this,Ss).state,h(this,Ss).dispatch),h(this,Os).activeActions[s].$.classList.remove("active")})),Is.set(this,(e=>{const t=h(this,Os).activeActions.findIndex((e=>e.$.classList.contains("active")));t>=0&&h(this,Os).activeActions[t].$.classList.remove("active");const{target:s}=e;s instanceof HTMLElement&&s.classList.add("active")})),Rs.set(this,(e=>{const{target:t}=e;t instanceof HTMLElement&&t.classList.remove("active")})),d(this,Os,e),d(this,As,(()=>{const e=document.createElement("div");return e.classList.add("slash-dropdown"),e})()),d(this,Cs,s),d(this,Ss,t);const{parentNode:n}=t.dom;if(!n)throw new Error;d(this,Ls,n),n.appendChild(h(this,As)),Ms.forEach((({$:e})=>{e.addEventListener("mouseenter",h(this,Is)),e.addEventListener("mouseleave",h(this,Rs)),h(this,As).appendChild(e)})),h(this,Ls).addEventListener("mousedown",h(this,$s)),h(this,Ls).addEventListener("keydown",h(this,Ts))}update(e){this.renderDropdown()&&this.calculatePosition(e)}destroy(){h(this,Ls).removeEventListener("mousedown",h(this,$s)),h(this,Ls).removeEventListener("keydown",h(this,Ts)),h(this,As).remove()}renderDropdown(){const{cursorStatus:e,filter:t}=h(this,Os);if(e!==Ds.Slash)return h(this,As).classList.add("hide"),!1;const s=Ms.filter((e=>{e.$.classList.remove("active");return!!e.keyword.some((e=>e.includes(t.toLocaleLowerCase())))||(e.$.classList.add("hide"),!1)})).map((e=>(e.$.classList.remove("hide"),e)));return h(this,Os).activeActions=s,0===s.length?(h(this,As).classList.add("hide"),!1):(s[0].$.classList.add("active"),h(this,As).classList.remove("hide"),de(s[0].$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}),!0)}calculatePosition(e){var t;const s=e.state,{from:n}=s.selection,i=e.coordsAtPos(n),o=null===(t=h(this,As).offsetParent)||void 0===t?void 0:t.getBoundingClientRect();if(!o)return;const r=h(this,As).getBoundingClientRect();if(h(this,As).style.left=i.left-o.left+"px",Math.abs(i.bottom-o.bottom)>r.height)return h(this,As).style.bottom="",void(h(this,As).style.top=i.top-o.top+20+"px");h(this,As).style.top="",h(this,As).style.bottom=i.bottom-o.bottom+190+"px"}}As=new WeakMap,Ls=new WeakMap,Cs=new WeakMap,Os=new WeakMap,Ss=new WeakMap,$s=new WeakMap,Ts=new WeakMap,Is=new WeakMap,Rs=new WeakMap;const Fs=[Ps];var Vs="_editor_1mlzz_1";const qs=({content:e,readOnly:t})=>{const s=r.useRef(null);return r.useEffect((()=>{if(!s.current)throw new Error;return((e,t,s=!1)=>{let n=new nt({root:e,defaultValue:t,editable:()=>!s}).use(lt).use(wt).use(Ft).use(ws).use(Gt);s||(n=n.use(Fs)),n.create()})(s.current,e,t),()=>{var e;null==(e=s.current)||e.remove()}}),[e]),r.createElement("div",{className:Vs,ref:s})};var Gs="_header_11pou_1",Ys="_part_11pou_20",Us="_logo_11pou_36",Ks="_github_11pou_64";const Qs=`${"_icon_11pou_23"} material-icons-outlined`,Xs=({onToggle:e})=>{const[t,s]=r.useState(!1),[n,i]=r.useState(!0),o=function(){const e=he();return"/"===e.pathname||"/online-demo"===e.pathname}();return r.useEffect((()=>{i(!o)}),[o]),r.useEffect((()=>{document.documentElement.setAttribute("data-theme",t?"dark":"light");let e=document.querySelector("#prism-theme");if(!e){const t=document.createElement("link");t.id="prism-theme",t.setAttribute("rel","stylesheet"),document.head.appendChild(t),e=t}e.setAttribute("href",t?"https://cdn.jsdelivr.net/npm/prism-themes@1.7.0/themes/prism-nord.css":"https://cdn.jsdelivr.net/npm/prism-themes@1.7.0/themes/prism-material-light.css")}),[t]),r.createElement("header",{className:Gs},r.createElement("div",{className:Ys},n&&r.createElement("span",{className:Qs,onClick:()=>null==e?void 0:e()},"menu"),r.createElement("a",{href:"/milkdown/",className:Us},r.createElement("img",{src:"/milkdown/milkdown-mini.svg"}),r.createElement("span",null,"Milkdown"))),r.createElement("div",{className:Ys},r.createElement("span",{onClick:()=>s(!t),className:Qs},t?"light_mode":"dark_mode"),r.createElement("a",{href:"https://github.com/Saul-Mirone/milkdown",className:Ks},r.createElement("span",{className:Qs},"open_in_new"),r.createElement("span",null,"Open in Github"))))};var Js="_sidebar_md7w1_1",Zs="_hr_md7w1_19",en="_section_md7w1_25",tn="_sectionTitle_md7w1_29",sn="_link_md7w1_35",nn="_active_md7w1_48";const on=({title:e,link:t})=>r.createElement(ue,{className:sn,activeClassName:nn,to:t},e),rn=({title:e,items:t})=>r.createElement("section",{className:en},r.createElement("section",{className:tn},e),t.map(((e,t)=>r.createElement(on,o({key:t.toString()},e))))),an=({sections:e,setDisplay:t,display:s})=>{const n=he();return r.useEffect((()=>{"/"!==n.pathname&&"/online-demo"!==n.pathname?/Android|iPhone|iPod|Opera Mini/i.test(navigator.userAgent)?t(!1):t(!0):t(!1)}),[n.pathname]),s?r.createElement("nav",{className:Js},e.map(((t,s)=>r.createElement("section",{key:s.toString()},r.createElement(rn,o({key:s.toString()},t)),s<e.length-1&&r.createElement("hr",{className:Zs}))))):null};const ln=[{title:"Guide",items:[{title:"Why Milkdown",link:"/why-milkdown",content:"# Why Milkdown\n\nThere are kinds of different markdown editors, such as [Typora](https://typora.io/), [tui](https://github.com/nhn/tui.editor) and [Bear](https://bear.app/).\nThey work pretty well for writing notes in markdown on different platforms. So why bother making Milkdown?\n\nMilkdown aims to provide a **open source solution** for developers to make their editors more powerful, attractive, and can be used everywhere.\n\n---\n\n## Open Source & Easy to Integration\n\nDifferent from industry apps such as [Notion](https://notion.so) and [Typora](https://typora.io/),\nMilkdown is open source and fully free. You can integrate it everywhere legally.\n\n> If you like milkdown, please consider to fund me to help the maintenance.\n\n## Plugin Driven\n\nMilkdown treats every features as plugins.\nWith this pattern, developers can choose what they need in an editor instead of bundle all features even they won't need.\nDevelopers can extends the plugin to satisfy their habit such as define a vim keymap plugin.\n\n## Reliable\n\nMilkdown is powered by [Prosemirror](https://prosemirror.net/) and [Markdown-It](https://markdown-it.github.io/), which has large community and stands the test of industry.\nWhat's more, plugins in prosemirror and markdown-it community can be easily reused to build a Milkdown plugin.\n\n## Themable & Hackable\n\nThemes and plugins for Milkdown can be shared and installed using npm packages.\n"},{title:"Get Started",link:"/get-started",content:'# Get Started\n\n## Overview\n\nMilkdown is a lightweight but powerful WYSIWYG markdown editor. It\'s made up by two parts:\n\n-   A tiny core which provide markdown parser, serializer and kinds of plugin loader.\n-   Lots of plugins provide syntax, commands and components.\n\nWith this pattern you can enable or disable any custom syntax you like, such as table, latex and slash commands.\nYou can even create your own plugin to support your awesome idea.\n\n---\n\n## Features\n\n-   📝 **WYSIWYG Markdown** - Write markdown in an elegant way\n-   🎨 **Themable** - Theme can be shared and used with npm packages\n-   🎮 **Hackable** - Support your awesome idea by plugin\n-   🦾 **Reliable** - Built on top of [prosemirror](https://prosemirror.net/) and [markdown-it](https://markdown-it.github.io/)\n-   ⚡️ **Slash & Tooltip** - Write fast for everyone, driven by plugin\n-   🧮 **Math** - LaTeX math equations support, driven by plugin\n-   📊 **Table** - Table support with fluent ui, driven by plugin\n\n## Tech Stack\n\nMilkdown is built on top of these tools:\n\n-   [Prosemirror](https://prosemirror.net/) and it\'s community - A toolkit for building rich-text editors on the web\n-   [Markdown-it](https://markdown-it.github.io/) and it\'s community - Markdown parser done right\n-   [Postcss](https://postcss.org/) - Powerful css tool to build theme\n-   [TypeScript](https://www.typescriptlang.org/) - Developed by typescript\n-   [Prism](https://prismjs.com/) - Code snippets support\n-   [Katex](https://katex.org/) - LaTex math rendering\n\n---\n\n## First editor\n\nWe have some pieces for you to create a very minimal editor:\n\n```typescript\nimport { Editor } from \'@milkdown/core\';\nimport { commonmark } from \'@milkdown/preset-commonmark\';\n\n// import theme\nimport \'@milkdown/theme-nord/lib/theme.css\';\n\nconst root = document.body;\nnew Editor({ root }).use(commonmark).create();\n```\n\n**We use [material icon](https://fonts.google.com/icons) and [Roboto Font](https://fonts.google.com/specimen/Roboto) in our theme**.\nMake sure to include them for best experience. For example:\n\n```html\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />\n<link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Roboto" />\n<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto" />\n<link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons" />\n<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />\n<link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" />\n<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" />\n```\n\n## Taste the plugin\n\nIn fact, all features in milkdown are supported by plugin.\nThe `commonmark` we use is a plugin. Now we can try more plugins:\n\n```typescript\nimport { Editor } from \'@milkdown/core\';\nimport { commonmark } from \'@milkdown/preset-commonmark\';\n\nimport \'@milkdown/theme-nord/lib/theme.css\';\n\nimport { tooltip } from \'@milkdown/plugin-tooltip\';\n// don\'t forget to import style!\nimport \'@milkdown/plugin-tooltip/lib/style.css\';\n\nconst root = document.body;\nnew Editor({ root }).use(commonmark).use(tooltip).create();\n```\n'}]},{title:"APIs",items:[{title:"Core API",link:"/core-api",content:"# Core API\n\n Coming soon..."},{title:"Plugin API",link:"/plugin-api",content:"# Plugin API\n\n Coming soon..."}]}];var cn="_main_omrri_1",dn="_container_omrri_7";var hn="_footer_1hkg7_1",un="_footerHome_1hkg7_12";const mn=()=>{const e="/"===he().pathname?[hn,un]:[hn];return r.createElement("footer",{className:e.join(" ")},"MIT Licensed | Copyright © 2021-present Mirone Saul")},pn=ln.flatMap((e=>e.items)),fn=()=>{const[e,t]=r.useState(!0);return r.createElement(me,null,r.createElement(Xs,{onToggle:()=>t(!e)}),r.createElement("main",{className:cn},r.createElement(an,{display:e,setDisplay:t,sections:ln}),r.createElement("div",{className:dn},r.createElement("article",null,r.createElement(pe,null,r.createElement(fe,{exact:!0,path:"/"},r.createElement(Me,null)),r.createElement(fe,{exact:!0,path:"/online-demo"},r.createElement(qs,{content:"# Milkdown\n\n![logo](https://preview.redd.it/us7w1x2zx8461.jpg?auto=webp&s=077a73d5c08aec0bc0fb48c5e5be40c928467bb6)\n\n> Milkdown is a WYSIWYG markdown editor.\n>\n> Here is the [repo](https://github.com/Saul-Mirone/milkdown) (_right click to open link_).\n\nYou can check the output markdown text in **developer tool**.\n\n---\n\nYou can add `inline code` and code block:\n\n```javascript\nfunction main() {\n    console.log('Hello milkdown!');\n}\n```\n\n---\n\nYou can type `||` and a `space` to create a table:\n\n| First Header   |   Second Header    |\n| -------------- | :----------------: |\n| Content Cell 1 |  `Content` Cell 1  |\n| Content Cell 2 | **Content** Cell 2 |\n\n---\n\nMath is supported by [TeX expression](https://en.wikipedia.org/wiki/TeX).\n\nNow we have some inline math: $V \\times W \\stackrel{\\otimes}{\\rightarrow} V \\otimes W$. You can click to edit it.\n\nMath block is also supported.\n\n$$\n\\begin{aligned}\nT( (v_1 + v_2) \\otimes w) &= T(v_1 \\otimes w) + T(v_2 \\otimes w) \\\\\nT( v \\otimes (w_1 + w_2)) &= T(v \\otimes w_1) + T(v \\otimes w_2) \\\\\nT( (\\alpha v) \\otimes w ) &= T( \\alpha ( v \\otimes w) ) \\\\\nT( v \\otimes (\\alpha w) ) &= T( \\alpha ( v \\otimes w) ) \\\\\n\\end{aligned}\n$$\n\nYou can type `$$` and a `space` to create a math block.\n\n---\n\nHave fun!\n"})),pn.map(((e,t)=>r.createElement(fe,{key:t.toString(),path:e.link},r.createElement(qs,{content:e.content,readOnly:!0})))))),r.createElement(mn,null))))};const gn=document.getElementById("app");if(!gn)throw new Error;ge.render(r.createElement(fn,null),gn);

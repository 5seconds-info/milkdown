var e,t,n=Object.defineProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(e,t,a)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))r.call(t,n)&&s(e,n,t[n]);return e};import{r as l,u as c,R as m,L as d,N as u,S as _,_ as p,a as g,H as E,b as h}from"./vendor.b9bd249e.js";(t=e||(e={}))[t.Default=0]="Default",t[t.TwoSide=1]="TwoSide";const f="https://unpkg.com/prism-themes/themes/prism-material-light.css",v="https://unpkg.com/prism-themes/themes/prism-nord.css",y=(e,t)=>{l.exports.useEffect((()=>{var e;const n=Boolean(null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches);t(n)}),[t]),l.exports.useEffect((()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light");(()=>{const e=document.querySelector("#prism-theme");if(e)return e;const t=document.createElement("link");return t.id="prism-theme",t.setAttribute("rel","stylesheet"),document.head.appendChild(t),t})().setAttribute("href",e?v:f)}),[e])};var k,w;(w=k||(k={}))[w.Home=0]="Home",w[w.Demo=1]="Demo",w[w.Page=2]="Page";const b=e=>"/"===e.pathname?0:"/online-demo"===e.pathname?1:2;function x(){const e=c();return[b(e),e]}var N={container:"_container_1vq7s_1",fold:"_fold_1vq7s_11",header:"_header_1vq7s_16",homepage:"_homepage_1vq7s_37",part:"_part_1vq7s_41",icon:"_icon_1vq7s_45",logo:"_logo_1vq7s_58",mode:"_mode_1vq7s_92"};const M=`${N.icon} material-icons-outlined`,D=({onToggle:t,scrolled:n,editorMode:a,onEditorModeToggle:o,isDarkMode:r,setIsDarkMode:s,fold:i})=>{const[l,c]=m.useState(!0),[u,_]=m.useState(!1),[p]=x();m.useEffect((()=>{p!==k.Page?(c(!1),p!==k.Demo?_(!1):_(!0)):c(!0)}),[p]),y(r,s);const g=[N.container,p!==k.Home&&n?"":N.homepage,i?N.fold:""].join(" ");return m.createElement("div",{id:"header",className:g},m.createElement("header",{className:N.header},m.createElement("div",{className:N.part},l&&m.createElement("span",{className:M,onClick:e=>{null==t||t(),e.stopPropagation()}},"menu"),m.createElement(d,{to:"/",className:N.logo},m.createElement("img",{src:"/milkdown/milkdown-mini.svg"}),m.createElement("span",{style:{opacity:n?0:1,transition:"opacity, color, background 0.4s ease-in-out"}},"Milkdown"))),m.createElement("div",{className:N.part},u&&m.createElement("span",{onClick:()=>o(),className:[M,N.mode].join(" ")},a===e.Default?"chrome_reader_mode":"wysiwyg"),m.createElement("span",{onClick:()=>s(!r),className:M},r?"light_mode":"dark_mode"),m.createElement("a",{href:"https://github.com/Saul-Mirone/milkdown",target:"_blank",className:N.github},m.createElement("span",{className:M},"open_in_new")))))};var S={sidebar:"_sidebar_3fzld_1",fold:"_fold_3fzld_13",hr:"_hr_3fzld_28",sectionTitle:"_sectionTitle_3fzld_35",link:"_link_3fzld_44",active:"_active_3fzld_56"};const T=({title:e,link:t})=>m.createElement(u,{className:S.link,activeClassName:S.active,to:t},e),P=({title:e,items:t})=>m.createElement("section",{className:S.section},m.createElement("section",{className:S.sectionTitle},e),t.map(((e,t)=>m.createElement(T,i({key:t.toString()},e))))),j=document.createElement("div");j.style.position="fixed",j.style.right="0",j.style.top="0",j.style.bottom="0",j.style.background="rgba(var(--background), 1)",j.style.zIndex="99";const L=({sections:e,setDisplay:t,display:n})=>{const a=m.useRef(null),[o,r]=x();m.useEffect((()=>{if(o!==k.Page)return void t(!1);if(document.documentElement.clientWidth<1080)return void t(!1);t(!0);const{current:e}=a;if(!e)return;const n=document.body,r=document.getElementById("header"),s=()=>{const e=window.innerWidth-n.clientWidth;n.style.marginRight=`${e}px`,n.style.overflow="hidden",j.style.width=e+"px",n.style.transition="none",r&&(r.style.marginRight=`${e}px`,r.style.transition="none"),n.appendChild(j)},i=()=>{n.style.overflow="",n.style.marginRight="",setTimeout((()=>{n.style.transition="",r&&(r.style.transition="")}),400),r&&(r.style.marginRight=""),n.removeChild(j)};return e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",i),()=>{e.removeEventListener("mouseleave",i),e.removeEventListener("mouseenter",s)}}),[o,t,r]);const s=m.useMemo((()=>`${S.sidebar} ${n?"":S.fold}`),[n]);return m.createElement("nav",{ref:a,className:s},e.map(((t,n)=>m.createElement("section",{key:n.toString()},m.createElement(P,i({key:n.toString()},t)),n<e.length-1&&m.createElement("hr",{className:S.hr})))))};let I;const O={},C=function(e,t){if(!t||0===t.length)return e();if(void 0===I){const e=document.createElement("link").relList;I=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/milkdown/${e}`)in O)return;O[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":I,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};const R=e=>({title:e.split("-").map((e=>e.slice(0,1).toUpperCase()+e.slice(1))).join(" "),link:"/"+e,content:()=>function(e){switch(e){case"./pages/guide/commands/index.md":return C((()=>import("./index.291f9141.js")),[]);case"./pages/guide/getting-started/index.md":return C((()=>import("./index.9bf412c7.js")),[]);case"./pages/guide/interacting-with-editor/index.md":return C((()=>import("./index.57705263.js")),[]);case"./pages/guide/keyboard-shortcuts/index.md":return C((()=>import("./index.707c7b46.js")),[]);case"./pages/guide/styling/index.md":return C((()=>import("./index.8940238f.js")),[]);case"./pages/guide/why-milkdown/index.md":return C((()=>import("./index.306c397c.js")),[]);default:return new Promise((function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./pages/guide/${e}/index.md`)}),q=[{title:"Guide",items:["why-milkdown","getting-started","interacting-with-editor","commands","styling","keyboard-shortcuts"]},{title:"Integrations",items:["react","vue"]},{title:"Plugins",items:["using-plugins","integrating-plugins","example-custom-syntax","writing-plugins"]},{title:"Internals",items:["node-and-mark","parser","serializer","internal-plugins"]}].map((({title:e,items:t})=>({title:e,items:t.map((e=>R(e)))})));var z={footer:"_footer_tx00c_1",homepage:"_homepage_tx00c_12"};const A=()=>{const[e]=x(),t=[z.footer,e===k.Home?z.homepage:""].join(" ");return m.createElement("footer",{className:t},"MIT Licensed | Copyright © 2021-present Mirone ♡ Meo")};var V="_body_1pnu5_1",H="_main_1pnu5_11",$="_content_1pnu5_20",W="_container_1pnu5_30",B="_title_1pnu5_41",G="_desc_1pnu5_50",Y="_logo_1pnu5_58",U="_buttons_1pnu5_65",F="_curve_1pnu5_100";const Z=()=>m.createElement("section",{className:V},m.createElement("section",{className:H},m.createElement("div",{className:W},m.createElement("div",{className:$},m.createElement("h1",{className:B},"Milkdown"),m.createElement("p",{className:G},"Plugin Based WYSIWYG Markdown Editor"),m.createElement("section",{className:U},m.createElement(d,{to:"/getting-started"},"Get Started"),m.createElement(d,{to:"/online-demo"},"Try Online"))),m.createElement("section",{className:Y},m.createElement("img",{src:"/milkdown/milkdown-homepage.svg"})))),m.createElement("div",{className:F},m.createElement("svg",{viewBox:"0 0 1152 73"},m.createElement("path",{d:"M99.0331 0.252716C59.2655 0.284556 0 25.2197 0 25.2197V0.252716H99.0331C99.0585 0.252696 99.0839 0.252686 99.1093 0.252686C99.1538 0.252686 99.1982 0.252696 99.2427 0.252716H1152V73C1018.73 21.6667 957.818 24.4226 819.692 22.7693C672.54 21.008 573.085 73 427.919 73C308.414 73 218.068 0.307089 99.2427 0.252716H99.0331Z"}))));var J={right:"_right_1xevo_1",fold:"_fold_1xevo_24",main:"_main_1xevo_33",loading:"_loading_1xevo_39",container:"_container_1xevo_48",homepage:"_homepage_1xevo_73"};const K=q.flatMap((e=>e.items)),Q=m.lazy((()=>C((()=>import("./MilkdownEditor.402307b4.js").then((function(e){return e.a}))),["assets/MilkdownEditor.402307b4.js","assets/MilkdownEditor.6c6375d2.css","assets/vendor.b9bd249e.js"]).then((e=>({default:e.MilkdownEditor}))))),X=m.lazy((()=>C((()=>import("./Demo.705b275c.js")),["assets/Demo.705b275c.js","assets/Demo.713afa78.css","assets/vendor.b9bd249e.js","assets/MilkdownEditor.402307b4.js","assets/MilkdownEditor.6c6375d2.css"]).then((e=>({default:e.Demo}))))),ee=({setScrolled:e,isDarkMode:t,editorMode:n})=>{const[a]=x(),o=[J.container,a===k.Home?J.homepage:""].join(" ");return m.useEffect((()=>{const t=()=>{e(window.pageYOffset>0)};return document.addEventListener("scroll",t),()=>{document.removeEventListener("scroll",t)}}),[e]),m.createElement("div",{className:o},m.createElement("article",null,m.createElement(_,null,m.createElement(m.Suspense,{fallback:m.createElement("div",{className:J.loading},m.createElement(p,{color:"rgba(var(--primary), 1)",loading:!0,size:150}))},m.createElement(g,{exact:!0,path:"/"},m.createElement(Z,null)),m.createElement(g,{exact:!0,path:"/online-demo"},m.createElement(X,{mode:n,isDarkMode:t})),K.map(((e,t)=>m.createElement(g,{key:t.toString(),path:e.link},m.createElement(Q,{content:e.content,readOnly:!0}))))))),m.createElement(A,null))};const te=()=>{const[t,n]=m.useState(!1),[a,o]=m.useState(!1),[r,s]=m.useState(e.Default),[i,l]=m.useState(!1);return m.createElement(E,null,m.createElement(m.Fragment,null,m.createElement(L,{display:t,setDisplay:n,sections:q}),m.createElement("div",{onClick:()=>{document.documentElement.clientWidth<1142&&n(!1)},className:t?J.right:[J.right,J.fold].join(" ")},m.createElement(D,{fold:t,isDarkMode:i,setIsDarkMode:l,onEditorModeToggle:()=>s(r===e.Default?e.TwoSide:e.Default),onToggle:()=>n(!t),scrolled:a,editorMode:r}),m.createElement("main",{className:J.main},m.createElement(ee,{isDarkMode:i,setScrolled:o,editorMode:r})))))};const ne=document.getElementById("app");h.exports.render(m.createElement(te,null),ne);export{e as M};

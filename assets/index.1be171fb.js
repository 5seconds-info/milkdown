var e,t,n=Object.defineProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,t,o)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,l=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&i(e,n,t[n]);if(o)for(var n of o(t))r.call(t,n)&&i(e,n,t[n]);return e};import{r as s,u as c,R as m,L as d,N as _,S as u,_ as p,a as E,H as g,b as h}from"./vendor.b9bd249e.js";(t=e||(e={}))[t.Default=0]="Default",t[t.TwoSide=1]="TwoSide";const f="https://unpkg.com/prism-themes/themes/prism-material-light.css",v="https://unpkg.com/prism-themes/themes/prism-nord.css",k=(e,t)=>{s.exports.useEffect((()=>{var e;const n=Boolean(null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches);t(n)}),[t]),s.exports.useEffect((()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light");(()=>{const e=document.querySelector("#prism-theme");if(e)return e;const t=document.createElement("link");return t.id="prism-theme",t.setAttribute("rel","stylesheet"),document.head.appendChild(t),t})().setAttribute("href",e?v:f)}),[e])};var y,b;(b=y||(y={}))[b.Home=0]="Home",b[b.Demo=1]="Demo",b[b.Page=2]="Page";const w=e=>"/"===e.pathname?0:"/online-demo"===e.pathname?1:2;function D(){const e=c();return[w(e),e]}var P={container:"_container_1vq7s_1",fold:"_fold_1vq7s_11",header:"_header_1vq7s_16",homepage:"_homepage_1vq7s_37",part:"_part_1vq7s_41",icon:"_icon_1vq7s_45",logo:"_logo_1vq7s_58",mode:"_mode_1vq7s_92"};const N=`${P.icon} material-icons-outlined`,I=({onToggle:t,scrolled:n,editorMode:o,onEditorModeToggle:a,isDarkMode:r,setIsDarkMode:i,fold:l})=>{const[s,c]=m.useState(!0),[_,u]=m.useState(!1),[p]=D();m.useEffect((()=>{p!==y.Page?(c(!1),p!==y.Demo?u(!1):u(!0)):c(!0)}),[p]),k(r,i);const E=[P.container,p!==y.Home&&n?"":P.homepage,l?P.fold:""].join(" ");return m.createElement("div",{id:"header",className:E},m.createElement("header",{className:P.header},m.createElement("div",{className:P.part},s&&m.createElement("span",{className:N,onClick:e=>{null==t||t(),e.stopPropagation()}},"menu"),m.createElement(d,{to:"/",className:P.logo},m.createElement("img",{src:"/milkdown/milkdown-mini.svg"}),m.createElement("span",{style:{opacity:n?0:1,transition:"opacity, color, background 0.4s ease-in-out"}},"Milkdown"))),m.createElement("div",{className:P.part},_&&m.createElement("span",{onClick:()=>a(),className:[N,P.mode].join(" ")},o===e.Default?"chrome_reader_mode":"wysiwyg"),m.createElement("span",{onClick:()=>i(!r),className:N},r?"light_mode":"dark_mode"),m.createElement("a",{href:"https://github.com/Saul-Mirone/milkdown",target:"_blank",className:P.github},m.createElement("span",{className:N},"open_in_new")))))};var T={sidebar:"_sidebar_3fzld_1",fold:"_fold_3fzld_13",hr:"_hr_3fzld_28",sectionTitle:"_sectionTitle_3fzld_35",link:"_link_3fzld_44",active:"_active_3fzld_56"};const L=({title:e,link:t})=>m.createElement(_,{className:T.link,activeClassName:T.active,to:t},e),M=({title:e,items:t})=>m.createElement("section",{className:T.section},m.createElement("section",{className:T.sectionTitle},e),t.map(((e,t)=>m.createElement(L,l({key:t.toString()},e))))),j=document.createElement("div");j.style.position="fixed",j.style.right="0",j.style.top="0",j.style.bottom="0",j.style.background="rgba(var(--background), 1)",j.style.zIndex="99";const O=({sections:e,setDisplay:t,display:n})=>{const o=m.useRef(null),[a,r]=D();m.useEffect((()=>{if(a!==y.Page)return void t(!1);if(document.documentElement.clientWidth<1080)return void t(!1);t(!0);const{current:e}=o;if(!e)return;const n=document.body,r=document.getElementById("header"),i=()=>{const e=window.innerWidth-n.clientWidth;n.style.marginRight=`${e}px`,n.style.overflow="hidden",j.style.width=e+"px",n.style.transition="none",r&&(r.style.marginRight=`${e}px`,r.style.transition="none"),n.appendChild(j)},l=()=>{n.style.overflow="",n.style.marginRight="",setTimeout((()=>{n.style.transition="",r&&(r.style.transition="")}),400),r&&(r.style.marginRight=""),n.removeChild(j)};return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",l),()=>{e.removeEventListener("mouseleave",l),e.removeEventListener("mouseenter",i)}}),[a,t,r]);const i=m.useMemo((()=>`${T.sidebar} ${n?"":T.fold}`),[n]);return m.createElement("nav",{ref:o,className:i},e.map(((t,n)=>m.createElement("section",{key:n.toString()},m.createElement(M,l({key:n.toString()},t)),n<e.length-1&&m.createElement("hr",{className:T.hr})))))};let S;const x={},R=function(e,t){if(!t||0===t.length)return e();if(void 0===S){const e=document.createElement("link").relList;S=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/milkdown/${e}`)in x)return;x[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":S,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},A=[{title:"Guide",items:[{title:"Why Milkdown",link:"/why-milkdown",content:()=>R((()=>import("./why-milkdown.2eb9b7bd.js")),[])},{title:"Getting Started",link:"/getting-started",content:()=>R((()=>import("./getting-started.ee1c5e51.js")),[])},{title:"Interacting with Editor",link:"/interacting-with-editor",content:()=>R((()=>import("./interacting-with-editor.23580053.js")),[])},{title:"Commands",link:"/commands",content:()=>R((()=>import("./commands.10281b03.js")),[])},{title:"Styling",link:"/styling",content:()=>R((()=>import("./styling.bf5834ba.js")),[])},{title:"Keyboard Shortcuts",link:"/keyboard-shortcuts",content:()=>R((()=>import("./keyboard-shortcuts.bc23b093.js")),[])}]},{title:"Integrations",items:[{title:"React",link:"/react",content:()=>R((()=>import("./react.d64c9264.js")),[])},{title:"Vue",link:"/vue",content:()=>R((()=>import("./vue.f17921cf.js")),[])}]},{title:"Plugins",items:[{title:"Using Plugins",link:"/using-plugins",content:()=>R((()=>import("./using-plugins.fb811140.js")),[])},{title:"Integrating Plugins",link:"/integrating-plugins",content:()=>R((()=>import("./integrating-plugins.4939e84e.js")),[])},{title:"Example: Custom Syntax",link:"/example-custom-syntax",content:()=>R((()=>import("./example-custom-syntax.5a3e1112.js")),[])},{title:"Writing Plugins",link:"/writing-plugins",content:()=>R((()=>import("./writing-plugins.d5622c76.js")),[])}]},{title:"Internals",items:[{title:"Node & Mark",link:"/node-and-mark",content:()=>R((()=>import("./node&mark.2b872249.js")),[])},{title:"Parser",link:"/parser",content:()=>R((()=>import("./parser.1e85eed3.js")),[])},{title:"Serializer",link:"/serializer",content:()=>R((()=>import("./serializer.932ae452.js")),[])},{title:"Internal Plugins",link:"/internal-plugins",content:()=>R((()=>import("./internal-plugins.36c96a9b.js")),[])}]}];var V={footer:"_footer_tx00c_1",homepage:"_homepage_tx00c_12"};const C=()=>{const[e]=D(),t=[V.footer,e===y.Home?V.homepage:""].join(" ");return m.createElement("footer",{className:t},"MIT Licensed | Copyright © 2021-present Mirone ♡ Meo")};var z="_body_1pnu5_1",q="_main_1pnu5_11",H="_content_1pnu5_20",W="_container_1pnu5_30",$="_title_1pnu5_41",B="_desc_1pnu5_50",G="_logo_1pnu5_58",Y="_buttons_1pnu5_65",F="_curve_1pnu5_100";const K=()=>m.createElement("section",{className:z},m.createElement("section",{className:q},m.createElement("div",{className:W},m.createElement("div",{className:H},m.createElement("h1",{className:$},"Milkdown"),m.createElement("p",{className:B},"Plugin Based WYSIWYG Markdown Editor"),m.createElement("section",{className:Y},m.createElement(d,{to:"/getting-started"},"Get Started"),m.createElement(d,{to:"/online-demo"},"Try Online"))),m.createElement("section",{className:G},m.createElement("img",{src:"/milkdown/milkdown-homepage.svg"})))),m.createElement("div",{className:F},m.createElement("svg",{viewBox:"0 0 1152 73"},m.createElement("path",{d:"M99.0331 0.252716C59.2655 0.284556 0 25.2197 0 25.2197V0.252716H99.0331C99.0585 0.252696 99.0839 0.252686 99.1093 0.252686C99.1538 0.252686 99.1982 0.252696 99.2427 0.252716H1152V73C1018.73 21.6667 957.818 24.4226 819.692 22.7693C672.54 21.008 573.085 73 427.919 73C308.414 73 218.068 0.307089 99.2427 0.252716H99.0331Z"}))));var U={right:"_right_1xevo_1",fold:"_fold_1xevo_24",main:"_main_1xevo_33",loading:"_loading_1xevo_39",container:"_container_1xevo_48",homepage:"_homepage_1xevo_73"};const Z=A.flatMap((e=>e.items)),J=m.lazy((()=>R((()=>import("./MilkdownEditor.402307b4.js").then((function(e){return e.a}))),["assets/MilkdownEditor.402307b4.js","assets/MilkdownEditor.6c6375d2.css","assets/vendor.b9bd249e.js"]).then((e=>({default:e.MilkdownEditor}))))),Q=m.lazy((()=>R((()=>import("./Demo.d6f56543.js")),["assets/Demo.d6f56543.js","assets/Demo.713afa78.css","assets/vendor.b9bd249e.js","assets/MilkdownEditor.402307b4.js","assets/MilkdownEditor.6c6375d2.css"]).then((e=>({default:e.Demo}))))),X=({setScrolled:e,isDarkMode:t,editorMode:n})=>{const[o]=D(),a=[U.container,o===y.Home?U.homepage:""].join(" ");return m.useEffect((()=>{const t=()=>{e(window.pageYOffset>0)};return document.addEventListener("scroll",t),()=>{document.removeEventListener("scroll",t)}}),[e]),m.createElement("div",{className:a},m.createElement("article",null,m.createElement(u,null,m.createElement(m.Suspense,{fallback:m.createElement("div",{className:U.loading},m.createElement(p,{color:"rgba(var(--primary), 1)",loading:!0,size:150}))},m.createElement(E,{exact:!0,path:"/"},m.createElement(K,null)),m.createElement(E,{exact:!0,path:"/online-demo"},m.createElement(Q,{mode:n,isDarkMode:t})),Z.map(((e,t)=>m.createElement(E,{key:t.toString(),path:e.link},m.createElement(J,{content:e.content,readOnly:!0}))))))),m.createElement(C,null))};const ee=()=>{const[t,n]=m.useState(!1),[o,a]=m.useState(!1),[r,i]=m.useState(e.Default),[l,s]=m.useState(!1);return m.createElement(g,null,m.createElement(m.Fragment,null,m.createElement(O,{display:t,setDisplay:n,sections:A}),m.createElement("div",{onClick:()=>{document.documentElement.clientWidth<1142&&n(!1)},className:t?U.right:[U.right,U.fold].join(" ")},m.createElement(I,{fold:t,isDarkMode:l,setIsDarkMode:s,onEditorModeToggle:()=>i(r===e.Default?e.TwoSide:e.Default),onToggle:()=>n(!t),scrolled:o,editorMode:r}),m.createElement("main",{className:U.main},m.createElement(X,{isDarkMode:l,setScrolled:a,editorMode:r})))))};const te=document.getElementById("app");h.exports.render(m.createElement(ee,null),te);export{e as M};
